I=function(){var d={},e={publish:function(b,a){var c=a||{},e=c.args||[],g=c.scope||this,f=function(){var a,c;if(d[b]){c=d[b];for(a=c.length-1;0<=a;a-=1)c[a].apply(g,e)}};c.sync?setTimeout(f,0):f()},subscribe:function(b,a){d[b]||(d[b]=[]);d[b].push(a);return[b,a]},subscribeOnce:function(b,a){var c=e.subscribe(b,function(){var b=c;a.apply(this,arguments);e.unsubscribe(b)})},unsubscribe:function(b){var a=b[0],c=d[a].length;if(d[a])for(;c--;)d[a][c]===b[1]&&d[a].splice(d[a][c],1)}};return e}();
